# Set prefix to Ctrl-Space
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

set -sg escape-time 1
set -g mouse
# set -g default-terminal "xterm-256color"
# make colors inside tmux look the same as outside of tmux
# see https://github.com/tmux/tmux/issues/696
# see https://stackoverflow.com/a/41786092
# set -g default-terminal "alacritty"
set -ga terminal-overrides ",$TERM:Tc"
# set-option -ga terminal-overrides ",xterm-256color:Tc"

# vim-like pane resizing  
bind -r C-k resize-pane -U
bind -r C-j resize-pane -D
bind -r C-h resize-pane -L
bind -r C-l resize-pane -R

# vim-like pane switching
bind k select-pane -U
bind j select-pane -D
bind h select-pane -L
bind l select-pane -R

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# Undercurl
set -g default-terminal "${TERM}"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'  # underscore colours - needs tmux-3.0

set -g status-style fg='#abb2bf',bg='#21252b' # one dark

# needed for full session names to display without being cut off
set -g status-left-length 50

# displays directory name instead of application for window name
set-option -g automatic-rename on
set-option -g automatic-rename-format '#{b:pane_current_path}'

# https://unix.stackexchange.com/a/755474
# make the index for <prefix> s start at 1 instead of 0
bind-key s choose-tree -ZsK '#{?#{e|<:#{line},9},#{e|+:1,#{line}},#{?#{e|<:#{line},35},M-#{a:#{e|+:97,#{e|-:#{line},9}}},}}'

# set base index to 1 for easier windows switching
set -g base-index 1
setw -g pane-base-index 1

set -g pane-active-border-style fg='#61afef' # one dark
set -g status-right "%Y-%m-%d #[] %I:%M %p "
set -g status-interval 1

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
## remember to clone tpm
# git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
